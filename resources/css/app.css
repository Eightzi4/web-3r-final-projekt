/* resources/css/app.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/*
================================================================================
Trix Editor Custom Styling
Aiming to match the provided UI screenshot.
Site's primary color seems to be an indigo/purple.
Dark mode background is a very dark blue/gray.
================================================================================
*/

/* Overall Toolbar Container */
trix-toolbar {
    @apply bg-gray-100 dark:bg-slate-800 border border-gray-300 dark:border-slate-700 rounded-t-lg shadow-sm p-1;
    /* Using slate for a slightly bluer dark gray, adjust as needed */
}

/* Button Rows within the Toolbar */
trix-toolbar .trix-button-row {
    @apply flex flex-wrap items-center; /* Removed gap here, will add margin to groups */
}

/* Individual Button Groups (e.g., bold/italic, lists) */
trix-toolbar .trix-button-group {
    @apply bg-transparent border-0 flex m-0.5 rounded-md; /* Rounded group, small margin for separation */
    /* The screenshot shows button groups with a subtle shared border/background effect */
    /* This can be tricky as Trix generates these. We might need to style individual buttons to simulate. */
}

/* Individual Buttons */
trix-toolbar .trix-button {
    @apply inline-flex items-center justify-center border-0 rounded-md transition-colors duration-150 ease-in-out;
    width: 38px; /* Or h-9 w-9 with Tailwind */
    height: 38px;
    /* Default icon/text color */
    color: theme('colors.slate.600'); /* For light mode icons */
}
.dark trix-toolbar .trix-button {
    color: theme('colors.slate.300'); /* For dark mode icons */
}

/* Hover State for Buttons */
trix-toolbar .trix-button:not(.trix-active):hover {
    @apply bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-100;
}

/* Active State for Buttons (when a format is applied) */
trix-toolbar .trix-button.trix-active {
    @apply bg-indigo-600 text-white dark:bg-indigo-500 dark:text-white;
    /* Match your site's primary accent color */
}
trix-toolbar .trix-button.trix-active:hover {
    @apply bg-indigo-700 dark:bg-indigo-600;
}

/* Targeting specific Trix icons (these are default Trix class names) */
/* We need to ensure their fill/stroke color changes for dark mode */
.dark trix-toolbar .trix-button--icon-bold svg,
.dark trix-toolbar .trix-button--icon-italic svg,
.dark trix-toolbar .trix-button--icon-strike svg,
.dark trix-toolbar .trix-button--icon-link svg,
.dark trix-toolbar .trix-button--icon-heading-1 svg,
.dark trix-toolbar .trix-button--icon-quote svg,
.dark trix-toolbar .trix-button--icon-code svg,
.dark trix-toolbar .trix-button--icon-bullet-list svg,
.dark trix-toolbar .trix-button--icon-number-list svg,
.dark trix-toolbar .trix-button--icon-decrease-nesting-level svg,
.dark trix-toolbar .trix-button--icon-increase-nesting-level svg,
.dark trix-toolbar .trix-button--icon-attach svg, /* If you enable attachments */
.dark trix-toolbar .trix-button--icon-undo svg,
.dark trix-toolbar .trix-button--icon-redo svg {
    fill: currentColor; /* Makes SVG inherit the 'color' from .trix-button */
}

/* If SVGs use stroke instead of fill for their main appearance */
/*
.dark trix-toolbar .trix-button--icon svg path {
    stroke: currentColor;
}
*/

/* Remove the default Trix spinner for attachments if you don't use them heavily or want a cleaner look */
trix-toolbar .trix-spinner {
    display: none !important;
}

/* Dialogs (e.g., for link input) - Style to match your modals if any */
trix-dialog {
    @apply bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-lg shadow-xl;
}
trix-dialog .trix-dialog__body {
    @apply p-4;
}
trix-dialog .trix-input { /* Input field within the dialog */
    @apply block w-full p-2.5 border border-slate-300 dark:border-slate-600 dark:bg-slate-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-slate-700 dark:text-slate-200 mb-3;
}
trix-dialog .trix-button-group { /* Button group in dialog */
    @apply flex justify-end space-x-2 pt-3 border-t border-slate-200 dark:border-slate-700;
}
trix-dialog .trix-button { /* Buttons in dialog */
    @apply px-4 py-2 text-sm font-medium rounded-md transition-colors;
}
trix-dialog .trix-button--primary {
    @apply bg-indigo-600 text-white hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600;
}
trix-dialog .trix-button--secondary {
    @apply bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600;
}


/* Trix Editor Content Area */
trix-editor {
    @apply block w-full min-h-[150px] p-4 border border-t-0 border-gray-300 dark:border-slate-700 dark:bg-slate-900 rounded-b-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-indigo-500 focus:border-indigo-500 text-gray-700 dark:text-gray-200 leading-relaxed;
    /* Matched dark bg to your image's editor area more closely (slate-900) */
    /* border-t-0 makes it connect seamlessly with the toolbar if toolbar has bottom border */
}
/* Placeholder text color */
trix-editor:empty:not(:focus)::before {
    /* content: attr(placeholder); */ /* Trix handles placeholder text itself */
    @apply text-slate-400 dark:text-slate-500;
}


/* Styling for content DISPLAYED from Trix (using {!! !!}) */
.trix-content {
    @apply prose prose-sm sm:prose-base dark:prose-invert max-w-none leading-relaxed;
    /* prose-invert should handle dark mode text colors well */
    color: theme('colors.gray.700'); /* Default text color for content */
}
.dark .trix-content {
    color: theme('colors.gray.300'); /* Dark mode text color for content */
}

.trix-content ul,
.trix-content ol {
    @apply my-3 pl-6;
}
.trix-content ul {
    @apply list-disc;
}
.trix-content ol {
    @apply list-decimal;
}
.trix-content li {
    @apply mb-1;
}
.trix-content li::marker {
    @apply text-gray-500 dark:text-gray-400;
}

.trix-content blockquote {
    @apply border-l-4 border-indigo-500 dark:border-indigo-400 pl-4 py-2 my-4 italic text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-slate-800 rounded-r-md;
}

.trix-content h1 {
    @apply text-2xl font-bold mt-6 mb-3 pb-1 border-b border-gray-200 dark:border-slate-700;
}
.trix-content h2 {
    @apply text-xl font-semibold mt-5 mb-2;
}
/* Add h3, h4 etc. if Trix toolbar allows them and you want custom styles */

.trix-content a {
    @apply text-indigo-600 dark:text-indigo-400 hover:underline font-medium; /* Added font-medium */
}

.trix-content pre {
    @apply bg-slate-100 dark:bg-slate-800 p-4 rounded-md overflow-x-auto text-sm my-4 whitespace-pre-wrap font-mono; /* Added font-mono */
}
.trix-content code:not(pre code) { /* Inline code, not within a pre block */
    @apply bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded text-sm font-mono text-indigo-700 dark:text-indigo-300;
}

.trix-content figure {
    @apply my-4;
}
.trix-content figure.attachment { /* Trix wraps attachments in figure.attachment */
    @apply bg-slate-100 dark:bg-slate-800 p-3 rounded-lg;
}
.trix-content figure img {
    @apply rounded-lg shadow-md max-w-full h-auto mx-auto block; /* Added block to img for centering */
}
.trix-content figcaption {
    @apply text-xs text-center text-gray-500 dark:text-gray-400 mt-1.5;
}
.trix-content hr {
    @apply my-6 border-gray-300 dark:border-slate-700;
}
